"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/employeeHomePage";
exports.ids = ["pages/api/employeeHomePage"];
exports.modules = {

/***/ "mysql":
/*!************************!*\
  !*** external "mysql" ***!
  \************************/
/***/ ((module) => {

module.exports = require("mysql");

/***/ }),

/***/ "(api)/./src/pages/api/employeeHomePage.js":
/*!*******************************************!*\
  !*** ./src/pages/api/employeeHomePage.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var mysql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql */ \"mysql\");\n/* harmony import */ var mysql__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql__WEBPACK_IMPORTED_MODULE_0__);\n\nasync function handler(req, res) {\n    const client = mysql__WEBPACK_IMPORTED_MODULE_0___default().createConnection({\n        host: \"localhost\",\n        user: \"ehotel\",\n        port: 3306,\n        password: \"2132ehotel!\",\n        database: \"Hotels\"\n    });\n    const { action , data  } = req.body;\n    const validActions = [\n        \"insert\",\n        \"update\",\n        \"delete\",\n        \"search\",\n        \"insert_payment\",\n        \"check_in\",\n        \"rent_now\"\n    ];\n    if (!validActions.includes(action)) {\n        res.status(400).json({\n            error: \"Invalid action\"\n        });\n        return;\n    }\n    try {\n        client.connect();\n        let result;\n        switch(action){\n            case \"insert_payment\":\n                const insertPaymentQuery = `\n          INSERT INTO payments (customer_name, ssn_sin, amount)\n          VALUES ('${data.customer_name}', '${data.ssn_sin}', '${data.amount}')\n        `;\n                await new Promise((resolve, reject)=>{\n                    client.query(insertPaymentQuery, (error, results)=>{\n                        if (error) {\n                            reject(error);\n                        } else {\n                            resolve(results);\n                        }\n                    });\n                });\n                result = \"success\";\n                break;\n            case \"check_in\":\n                const checkInQuery = `\n                UPDATE Booking\n                SET status = 'renting', Check_in_date = NOW()\n                WHERE Booking_ID = ${data.booking_id}\n            `;\n                await new Promise((resolve, reject)=>{\n                    client.query(checkInQuery, (error, results)=>{\n                        if (error) {\n                            reject(error);\n                        } else {\n                            resolve(results);\n                        }\n                    });\n                });\n                result = \"success\";\n                break;\n            case \"rent_now\":\n                const customerName = data.customer_name;\n                const ssnSin = data.ssn_sin;\n                const registrationDate = data.registration_date;\n                // Insert new customer into Customer table\n                const insertCustomerQuery = `\n                INSERT INTO Customer (Name, SSN_SIN, Registration_Date)\n                VALUES ('${customerName}', '${ssnSin}', '${registrationDate}');\n              `;\n                await new Promise((resolve, reject)=>{\n                    client.query(insertCustomerQuery, (error, results)=>{\n                        if (error) {\n                            reject(error);\n                        } else {\n                            resolve(results);\n                        }\n                    });\n                });\n                // Get the ID of the newly inserted customer\n                const getLastInsertIdQuery = `\n                SELECT LAST_INSERT_ID() as Customer_ID;\n              `;\n                const customerResult = await new Promise((resolve, reject)=>{\n                    client.query(getLastInsertIdQuery, (error, results)=>{\n                        if (error) {\n                            reject(error);\n                        } else {\n                            resolve(results);\n                        }\n                    });\n                });\n                const customerId = customerResult[0].Customer_ID;\n                const roomId = data.room_id;\n                const checkInDate = data.check_in_date;\n                const checkOutDate = data.check_out_date;\n                const checkAvailabilityQuery = `\n                SELECT COUNT(*) as count\n                FROM Booking\n                WHERE Room_ID = ${roomId}\n                AND (\n                  (Check_in_date BETWEEN '${checkInDate}' AND '${checkOutDate}')\n                  OR (Check_out_date BETWEEN '${checkInDate}' AND '${checkOutDate}')\n                  OR ('${checkInDate}' BETWEEN Check_in_date AND Check_out_date)\n                  OR ('${checkOutDate}' BETWEEN Check_in_date AND Check_out_date)\n                )\n              `;\n                const availabilityResult = await new Promise((resolve, reject)=>{\n                    client.query(checkAvailabilityQuery, (error, results)=>{\n                        if (error) {\n                            reject(error);\n                        } else {\n                            resolve(results);\n                        }\n                    });\n                });\n                if (availabilityResult[0].count === 0) {\n                    // Insert new booking into Booking table\n                    const insertBookingQuery = `\n                  INSERT INTO Booking (Customer_ID, Room_ID, Check_in_date, Check_out_date, status)\n                  VALUES (${customerId}, ${roomId}, '${checkInDate}', '${checkOutDate}', 'renting');\n                `;\n                    await new Promise((resolve, reject)=>{\n                        client.query(insertBookingQuery, (error, results)=>{\n                            if (error) {\n                                reject(error);\n                            } else {\n                                resolve(results);\n                            }\n                        });\n                    });\n                    // Get the Booking ID and Room Price\n                    const getBookingInfoQuery = `\n                  SELECT B.Booking_ID, R.Price\n                  FROM Booking B\n                  JOIN Room R ON B.Room_ID = R.Room_ID\n                  WHERE B.Customer_ID = ${customerId}\n                  AND B.Room_ID = ${roomId}\n                  AND B.Check_in_date = '${checkInDate}'\n                  AND B.Check_out_date = '${checkOutDate}'\n                `;\n                    const bookingInfoResult = await new Promise((resolve, reject)=>{\n                        client.query(getBookingInfoQuery, (error, results)=>{\n                            if (error) {\n                                reject(error);\n                            } else {\n                                resolve(results);\n                            }\n                        });\n                    });\n                    const bookingId = bookingInfoResult[0].Booking_ID;\n                    const roomPrice = bookingInfoResult[0].Price;\n                    result = {\n                        status: \"success\",\n                        bookingId,\n                        customerName,\n                        ssnSin,\n                        roomPrice\n                    };\n                } else {\n                    result = {\n                        status: \"error\",\n                        message: \"Room not available for the selected dates.\"\n                    };\n                }\n                break;\n            default:\n                result = \"invalid action\";\n        }\n        res.status(200).json(result);\n    } catch (err) {\n        console.error(err);\n        res.status(500).json({\n            error: \"Internal server error\",\n            message: err.message\n        });\n    } finally{\n        client.end();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2VtcGxveWVlSG9tZVBhZ2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBCO0FBRVgsZUFBZUMsUUFBUUMsR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFFOUMsTUFBTUMsU0FBU0osNkRBQXNCLENBQUM7UUFDcENNLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFVBQVU7UUFDVkMsVUFBVTtJQUNaO0lBRUEsTUFBTSxFQUFFQyxPQUFNLEVBQUVDLEtBQUksRUFBRSxHQUFHVixJQUFJVyxJQUFJO0lBQ2pDLE1BQU1DLGVBQWU7UUFBQztRQUFVO1FBQVU7UUFBVTtRQUFVO1FBQWtCO1FBQVk7S0FBVztJQUV2RyxJQUFJLENBQUNBLGFBQWFDLFFBQVEsQ0FBQ0osU0FBUztRQUNsQ1IsSUFBSWEsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQWlCO1FBQy9DO0lBQ0YsQ0FBQztJQUVELElBQUk7UUFDRmQsT0FBT2UsT0FBTztRQUNkLElBQUlDO1FBRUosT0FBUVQ7WUFDTixLQUFLO2dCQUNILE1BQU1VLHFCQUFxQixDQUFDOzttQkFFakIsRUFBRVQsS0FBS1UsYUFBYSxDQUFDLElBQUksRUFBRVYsS0FBS1csT0FBTyxDQUFDLElBQUksRUFBRVgsS0FBS1ksTUFBTSxDQUFDO1FBQ3JFLENBQUM7Z0JBQ0QsTUFBTSxJQUFJQyxRQUFRLENBQUNDLFNBQVNDLFNBQVc7b0JBQ3JDdkIsT0FBT3dCLEtBQUssQ0FBQ1Asb0JBQW9CLENBQUNILE9BQU9XLFVBQVk7d0JBQ25ELElBQUlYLE9BQU87NEJBQ1RTLE9BQU9UO3dCQUNULE9BQU87NEJBQ0xRLFFBQVFHO3dCQUNWLENBQUM7b0JBQ0g7Z0JBQ0Y7Z0JBQ0FULFNBQVM7Z0JBQ1QsS0FBTTtZQUVOLEtBQUs7Z0JBQ0QsTUFBTVUsZUFBZSxDQUFDOzs7bUNBR0MsRUFBRWxCLEtBQUttQixVQUFVLENBQUM7WUFDekMsQ0FBQztnQkFDRCxNQUFNLElB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QixLQUFLLENBQUN1QixxQkFBcUIsQ0FBQ2pDLE9BQU9XLFVBQVk7NEJBQ3BELElBQUlYLE9BQU87Z0NBQ1RTLE9BQU9UOzRCQUNULE9BQU87Z0NBQ0xRLFFBQVFHOzRCQUNWLENBQUM7d0JBQ0g7b0JBQ0Y7b0JBRUEsTUFBTXdCLFlBQVlELGlCQUFpQixDQUFDLEVBQUUsQ0FBQ0UsVUFBVTtvQkFDakQsTUFBTUMsWUFBWUgsaUJBQWlCLENBQUMsRUFBRSxDQUFDSSxLQUFLO29CQUU1Q3BDLFNBQVM7d0JBQ1BKLFFBQVE7d0JBQ1JxQzt3QkFDQXJCO3dCQUNBQzt3QkFDQXNCO29CQUNGO2dCQUNGLE9BQU87b0JBQ0xuQyxTQUFTO3dCQUFFSixRQUFRO3dCQUFTeUMsU0FBUztvQkFBNkM7Z0JBQ3BGLENBQUM7Z0JBQ0QsS0FBTTtZQUlkO2dCQUNFckMsU0FBUztRQUNiO1FBRUFqQixJQUFJYSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDRztJQUN2QixFQUFFLE9BQU9zQyxLQUFLO1FBQ1pDLFFBQVF6QyxLQUFLLENBQUN3QztRQUNkdkQsSUFBSWEsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1lBQXlCdUMsU0FBU0MsSUFBSUQsT0FBTztRQUFDO0lBQzlFLFNBQVU7UUFDUnJELE9BQU93RCxHQUFHO0lBQ1o7QUFDRixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZWhvdGVsLy4vc3JjL3BhZ2VzL2FwaS9lbXBsb3llZUhvbWVQYWdlLmpzPzljYzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ215c3FsJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuXG4gIGNvbnN0IGNsaWVudCA9IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xuICAgIGhvc3Q6IFwibG9jYWxob3N0XCIsXG4gICAgdXNlcjogXCJlaG90ZWxcIixcbiAgICBwb3J0OiAzMzA2LFxuICAgIHBhc3N3b3JkOiBcIjIxMzJlaG90ZWwhXCIsXG4gICAgZGF0YWJhc2U6IFwiSG90ZWxzXCIsXG4gIH0pO1xuXG4gIGNvbnN0IHsgYWN0aW9uLCBkYXRhIH0gPSByZXEuYm9keTtcbiAgY29uc3QgdmFsaWRBY3Rpb25zID0gWydpbnNlcnQnLCAndXBkYXRlJywgJ2RlbGV0ZScsICdzZWFyY2gnLCAnaW5zZXJ0X3BheW1lbnQnLCAnY2hlY2tfaW4nLCAncmVudF9ub3cnXTtcblxuICBpZiAoIXZhbGlkQWN0aW9ucy5pbmNsdWRlcyhhY3Rpb24pKSB7XG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgYWN0aW9uJyB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0cnkge1xuICAgIGNsaWVudC5jb25uZWN0KCk7XG4gICAgbGV0IHJlc3VsdDtcblxuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICBjYXNlICdpbnNlcnRfcGF5bWVudCc6XG4gICAgICAgIGNvbnN0IGluc2VydFBheW1lbnRRdWVyeSA9IGBcbiAgICAgICAgICBJTlNFUlQgSU5UTyBwYXltZW50cyAoY3VzdG9tZXJfbmFtZSwgc3NuX3NpbiwgYW1vdW50KVxuICAgICAgICAgIFZBTFVFUyAoJyR7ZGF0YS5jdXN0b21lcl9uYW1lfScsICcke2RhdGEuc3NuX3Npbn0nLCAnJHtkYXRhLmFtb3VudH0nKVxuICAgICAgICBgO1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY2xpZW50LnF1ZXJ5KGluc2VydFBheW1lbnRRdWVyeSwgKGVycm9yLCByZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXN1bHQgPSAnc3VjY2Vzcyc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NoZWNrX2luJzpcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrSW5RdWVyeSA9IGBcbiAgICAgICAgICAgICAgICBVUERBVEUgQm9va2luZ1xuICAgICAgICAgICAgICAgIFNFVCBzdGF0dXMgPSAncmVudGluZycsIENoZWNrX2luX2RhdGUgPSBOT1coKVxuICAgICAgICAgICAgICAgIFdIRVJFIEJvb2tpbmdfSUQgPSAke2RhdGEuYm9va2luZ19pZH1cbiAgICAgICAgICAgIGA7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2xpZW50LnF1ZXJ5KGNoZWNrSW5RdWVyeSwgKGVycm9yLCByZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzdWx0ID0gJ3N1Y2Nlc3MnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhc2UgJ3JlbnRfbm93JzpcbiAgICAgICAgICAgICAgY29uc3QgY3VzdG9tZXJOYW1lID0gZGF0YS5jdXN0b21lcl9uYW1lO1xuICAgICAgICAgICAgICBjb25zdCBzc25TaW4gPSBkYXRhLnNzbl9zaW47XG4gICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvbkRhdGUgPSBkYXRhLnJlZ2lzdHJhdGlvbl9kYXRlO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gSW5zZXJ0IG5ldyBjdXN0b21lciBpbnRvIEN1c3RvbWVyIHRhYmxlXG4gICAgICAgICAgICAgIGNvbnN0IGluc2VydEN1c3RvbWVyUXVlcnkgPSBgXG4gICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gQ3VzdG9tZXIgKE5hbWUsIFNTTl9TSU4sIFJlZ2lzdHJhdGlvbl9EYXRlKVxuICAgICAgICAgICAgICAgIFZBTFVFUyAoJyR7Y3VzdG9tZXJOYW1lfScsICcke3NzblNpbn0nLCAnJHtyZWdpc3RyYXRpb25EYXRlfScpO1xuICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsaWVudC5xdWVyeShpbnNlcnRDdXN0b21lclF1ZXJ5LCAoZXJyb3IsIHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBHZXQgdGhlIElEIG9mIHRoZSBuZXdseSBpbnNlcnRlZCBjdXN0b21lclxuICAgICAgICAgICAgICBjb25zdCBnZXRMYXN0SW5zZXJ0SWRRdWVyeSA9IGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgTEFTVF9JTlNFUlRfSUQoKSBhcyBDdXN0b21lcl9JRDtcbiAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnN0IGN1c3RvbWVyUmVzdWx0ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsaWVudC5xdWVyeShnZXRMYXN0SW5zZXJ0SWRRdWVyeSwgKGVycm9yLCByZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgY3VzdG9tZXJJZCA9IGN1c3RvbWVyUmVzdWx0WzBdLkN1c3RvbWVyX0lEO1xuICAgICAgICAgICAgICBjb25zdCByb29tSWQgPSBkYXRhLnJvb21faWQ7XG4gICAgICAgICAgICAgIGNvbnN0IGNoZWNrSW5EYXRlID0gZGF0YS5jaGVja19pbl9kYXRlO1xuICAgICAgICAgICAgICBjb25zdCBjaGVja091dERhdGUgPSBkYXRhLmNoZWNrX291dF9kYXRlO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgY2hlY2tBdmFpbGFiaWxpdHlRdWVyeSA9IGBcbiAgICAgICAgICAgICAgICBTRUxFQ1QgQ09VTlQoKikgYXMgY291bnRcbiAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmdcbiAgICAgICAgICAgICAgICBXSEVSRSBSb29tX0lEID0gJHtyb29tSWR9XG4gICAgICAgICAgICAgICAgQU5EIChcbiAgICAgICAgICAgICAgICAgIChDaGVja19pbl9kYXRlIEJFVFdFRU4gJyR7Y2hlY2tJbkRhdGV9JyBBTkQgJyR7Y2hlY2tPdXREYXRlfScpXG4gICAgICAgICAgICAgICAgICBPUiAoQ2hlY2tfb3V0X2RhdGUgQkVUV0VFTiAnJHtjaGVja0luRGF0ZX0nIEFORCAnJHtjaGVja091dERhdGV9JylcbiAgICAgICAgICAgICAgICAgIE9SICgnJHtjaGVja0luRGF0ZX0nIEJFVFdFRU4gQ2hlY2tfaW5fZGF0ZSBBTkQgQ2hlY2tfb3V0X2RhdGUpXG4gICAgICAgICAgICAgICAgICBPUiAoJyR7Y2hlY2tPdXREYXRlfScgQkVUV0VFTiBDaGVja19pbl9kYXRlIEFORCBDaGVja19vdXRfZGF0ZSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCBhdmFpbGFiaWxpdHlSZXN1bHQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY2xpZW50LnF1ZXJ5KGNoZWNrQXZhaWxhYmlsaXR5UXVlcnksIChlcnJvciwgcmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmIChhdmFpbGFiaWxpdHlSZXN1bHRbMF0uY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBJbnNlcnQgbmV3IGJvb2tpbmcgaW50byBCb29raW5nIHRhYmxlXG4gICAgICAgICAgICAgICAgY29uc3QgaW5zZXJ0Qm9va2luZ1F1ZXJ5ID0gYFxuICAgICAgICAgICAgICAgICAgSU5TRVJUIElOVE8gQm9va2luZyAoQ3VzdG9tZXJfSUQsIFJvb21fSUQsIENoZWNrX2luX2RhdGUsIENoZWNrX291dF9kYXRlLCBzdGF0dXMpXG4gICAgICAgICAgICAgICAgICBWQUxVRVMgKCR7Y3VzdG9tZXJJZH0sICR7cm9vbUlkfSwgJyR7Y2hlY2tJbkRhdGV9JywgJyR7Y2hlY2tPdXREYXRlfScsICdyZW50aW5nJyk7XG4gICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICBjbGllbnQucXVlcnkoaW5zZXJ0Qm9va2luZ1F1ZXJ5LCAoZXJyb3IsIHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgQm9va2luZyBJRCBhbmQgUm9vbSBQcmljZVxuICAgICAgICAgICAgICAgIGNvbnN0IGdldEJvb2tpbmdJbmZvUXVlcnkgPSBgXG4gICAgICAgICAgICAgICAgICBTRUxFQ1QgQi5Cb29raW5nX0lELCBSLlByaWNlXG4gICAgICAgICAgICAgICAgICBGUk9NIEJvb2tpbmcgQlxuICAgICAgICAgICAgICAgICAgSk9JTiBSb29tIFIgT04gQi5Sb29tX0lEID0gUi5Sb29tX0lEXG4gICAgICAgICAgICAgICAgICBXSEVSRSBCLkN1c3RvbWVyX0lEID0gJHtjdXN0b21lcklkfVxuICAgICAgICAgICAgICAgICAgQU5EIEIuUm9vbV9JRCA9ICR7cm9vbUlkfVxuICAgICAgICAgICAgICAgICAgQU5EIEIuQ2hlY2tfaW5fZGF0ZSA9ICcke2NoZWNrSW5EYXRlfSdcbiAgICAgICAgICAgICAgICAgIEFORCBCLkNoZWNrX291dF9kYXRlID0gJyR7Y2hlY2tPdXREYXRlfSdcbiAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgYm9va2luZ0luZm9SZXN1bHQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICBjbGllbnQucXVlcnkoZ2V0Qm9va2luZ0luZm9RdWVyeSwgKGVycm9yLCByZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBib29raW5nSWQgPSBib29raW5nSW5mb1Jlc3VsdFswXS5Cb29raW5nX0lEO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb21QcmljZSA9IGJvb2tpbmdJbmZvUmVzdWx0WzBdLlByaWNlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgICBib29raW5nSWQsXG4gICAgICAgICAgICAgICAgICBjdXN0b21lck5hbWUsXG4gICAgICAgICAgICAgICAgICBzc25TaW4sXG4gICAgICAgICAgICAgICAgICByb29tUHJpY2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHsgc3RhdHVzOiAnZXJyb3InLCBtZXNzYWdlOiAnUm9vbSBub3QgYXZhaWxhYmxlIGZvciB0aGUgc2VsZWN0ZWQgZGF0ZXMuJyB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgXG5cbiAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJlc3VsdCA9ICdpbnZhbGlkIGFjdGlvbic7XG4gICAgfVxuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLCBtZXNzYWdlOiBlcnIubWVzc2FnZSB9KTtcbiAgfSBmaW5hbGx5IHtcbiAgICBjbGllbnQuZW5kKCk7XG4gIH1cbn1cblxuIl0sIm5hbWVzIjpbIm15c3FsIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImNsaWVudCIsImNyZWF0ZUNvbm5lY3Rpb24iLCJob3N0IiwidXNlciIsInBvcnQiLCJwYXNzd29yZCIsImRhdGFiYXNlIiwiYWN0aW9uIiwiZGF0YSIsImJvZHkiLCJ2YWxpZEFjdGlvbnMiLCJpbmNsdWRlcyIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbm5lY3QiLCJyZXN1bHQiLCJpbnNlcnRQYXltZW50UXVlcnkiLCJjdXN0b21lcl9uYW1lIiwic3NuX3NpbiIsImFtb3VudCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicXVlcnkiLCJyZXN1bHRzIiwiY2hlY2tJblF1ZXJ5IiwiYm9va2luZ19pZCIsImN1c3RvbWVyTmFtZSIsInNzblNpbiIsInJlZ2lzdHJhdGlvbkRhdGUiLCJyZWdpc3RyYXRpb25fZGF0ZSIsImluc2VydEN1c3RvbWVyUXVlcnkiLCJnZXRMYXN0SW5zZXJ0SWRRdWVyeSIsImN1c3RvbWVyUmVzdWx0IiwiY3VzdG9tZXJJZCIsIkN1c3RvbWVyX0lEIiwicm9vbUlkIiwicm9vbV9pZCIsImNoZWNrSW5EYXRlIiwiY2hlY2tfaW5fZGF0ZSIsImNoZWNrT3V0RGF0ZSIsImNoZWNrX291dF9kYXRlIiwiY2hlY2tBdmFpbGFiaWxpdHlRdWVyeSIsImF2YWlsYWJpbGl0eVJlc3VsdCIsImNvdW50IiwiaW5zZXJ0Qm9va2luZ1F1ZXJ5IiwiZ2V0Qm9va2luZ0luZm9RdWVyeSIsImJvb2tpbmdJbmZvUmVzdWx0IiwiYm9va2luZ0lkIiwiQm9va2luZ19JRCIsInJvb21QcmljZSIsIlByaWNlIiwibWVzc2FnZSIsImVyciIsImNvbnNvbGUiLCJlbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/employeeHomePage.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/employeeHomePage.js"));
module.exports = __webpack_exports__;

})();